language: objective-c
xcode_workspace: MMX-PromiseKit.xcworkspace
xcode_scheme: MMX-PromiseKitTests
osx_image: xcode611

cache:
  - bundler
  - cocoapods

before_install:
  - rvm use $RVM_RUBY_VERSION

install:
  - bundle install --without=documentation --path ../travis_bundle_dir
  - gem install cocoapods -v '0.38'
  - pod --version
  - pod install
#  - git clone https://github.com/facebook/xctool.git
#  - brew update
#  - brew upgrade xctool
  - xctool --version

script:
  - xctool build test -workspace MMX-PromiseKit.xcworkspace -scheme MMX-PromiseKitTests -sdk iphonesimulator CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO

after_success: slather